import{r as o,j as e,u as de,a as ce,H as ue,b as me}from"./app-D9K0lIg2.js";import{u as xe,t as D}from"./index-Ct_SG2XW.js";import{a as he}from"./index-CSYN4WWv.js";import{d as pe}from"./index-CoNroDVL.js";import{u as ge,c as O,R as je,I as fe,A as ve,C as be}from"./app-layout-DjmuWQS6.js";import{C as w,a as C,b as N,c as I,d as P,e as k}from"./card-D9oyddBh.js";import{c as we,a as y,B as x}from"./button-Cq0MOVKo.js";import{I as f}from"./input-Cdacpup9.js";import{D as Ce,a as Ne,b as Ie,c as ye,d as Te}from"./dialog-66DR-adO.js";import{F as _e,P as Ae,G as Se,A as De}from"./asset-item-dialog-BbIfIr_v.js";import{L as v}from"./label-CiFHFGZU.js";import{u as Pe,c as ke,a as F,P as Fe}from"./index-BeC5lqBz.js";import{P as T}from"./index-BSy4OLH8.js";import{C as Me}from"./check-C5X-y35h.js";import{C as Re}from"./chevron-left-BV2a4pwW.js";/* empty css            */import"./index-CMWG4mbA.js";import"./app-img-logo-DWWu-s2u.js";import"./popover-DKDeY4ci.js";import"./chevron-down-bs4vnQC5.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=[["path",{d:"M18 8c0 3.613-3.869 7.429-5.393 8.795a1 1 0 0 1-1.214 0C9.87 15.429 6 11.613 6 8a6 6 0 0 1 12 0",key:"11u0oz"}],["circle",{cx:"12",cy:"8",r:"2",key:"1822b1"}],["path",{d:"M8.714 14h-3.71a1 1 0 0 0-.948.683l-2.004 6A1 1 0 0 0 3 22h18a1 1 0 0 0 .948-1.316l-2-6a1 1 0 0 0-.949-.684h-3.712",key:"q8zwxj"}]],Le=we("MapPinned",Ee);var _="Tabs",[Ge,bs]=ke(_,[O]),$=O(),[Ve,E]=Ge(_),z=o.forwardRef((s,t)=>{const{__scopeTabs:u,value:a,onValueChange:i,defaultValue:l,orientation:r="horizontal",dir:c,activationMode:g="automatic",...h}=s,d=ge(c),[n,j]=Pe({prop:a,onChange:i,defaultProp:l??"",caller:_});return e.jsx(Ve,{scope:u,baseId:xe(),value:n,onValueChange:j,orientation:r,dir:d,activationMode:g,children:e.jsx(T.div,{dir:d,"data-orientation":r,...h,ref:t})})});z.displayName=_;var B="TabsList",H=o.forwardRef((s,t)=>{const{__scopeTabs:u,loop:a=!0,...i}=s,l=E(B,u),r=$(u);return e.jsx(je,{asChild:!0,...r,orientation:l.orientation,dir:l.dir,loop:a,children:e.jsx(T.div,{role:"tablist","aria-orientation":l.orientation,...i,ref:t})})});H.displayName=B;var K="TabsTrigger",q=o.forwardRef((s,t)=>{const{__scopeTabs:u,value:a,disabled:i=!1,...l}=s,r=E(K,u),c=$(u),g=J(r.baseId,a),h=W(r.baseId,a),d=a===r.value;return e.jsx(fe,{asChild:!0,...c,focusable:!i,active:d,children:e.jsx(T.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":h,"data-state":d?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:g,...l,ref:t,onMouseDown:F(s.onMouseDown,n=>{!i&&n.button===0&&n.ctrlKey===!1?r.onValueChange(a):n.preventDefault()}),onKeyDown:F(s.onKeyDown,n=>{[" ","Enter"].includes(n.key)&&r.onValueChange(a)}),onFocus:F(s.onFocus,()=>{const n=r.activationMode!=="manual";!d&&!i&&n&&r.onValueChange(a)})})})});q.displayName=K;var U="TabsContent",Q=o.forwardRef((s,t)=>{const{__scopeTabs:u,value:a,forceMount:i,children:l,...r}=s,c=E(U,u),g=J(c.baseId,a),h=W(c.baseId,a),d=a===c.value,n=o.useRef(d);return o.useEffect(()=>{const j=requestAnimationFrame(()=>n.current=!1);return()=>cancelAnimationFrame(j)},[]),e.jsx(Fe,{present:i||d,children:({present:j})=>e.jsx(T.div,{"data-state":d?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":g,hidden:!j,id:h,tabIndex:0,...r,ref:t,style:{...s.style,animationDuration:n.current?"0s":void 0},children:j&&l})})});Q.displayName=U;function J(s,t){return`${s}-trigger-${t}`}function W(s,t){return`${s}-content-${t}`}var Oe=z,$e=H,ze=q,Be=Q;function He({className:s,...t}){return e.jsx(Oe,{"data-slot":"tabs",className:y("flex flex-col gap-2",s),...t})}function Ke({className:s,...t}){return e.jsx($e,{"data-slot":"tabs-list",className:y("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-lg p-[3px]",s),...t})}function M({className:s,...t}){return e.jsx(ze,{"data-slot":"tabs-trigger",className:y("data-[state=active]:bg-background dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-md border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:shadow-sm [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",s),...t})}function R({className:s,...t}){return e.jsx(Be,{"data-slot":"tabs-content",className:y("flex-1 outline-none",s),...t})}function ws(){const{asset:s,assetItem:t,images:u,vendors:a,brands:i}=de().props,l=u.sort((b,le)=>b.order-le.order),[r,c]=o.useState(!1),[g,h]=o.useState("new"),[d,n]=o.useState(null),[j,qe]=o.useState(!1),[X,Y]=o.useState(!1),[m,A]=o.useState(null),[Z,L]=o.useState(null),[G,V]=o.useState(null),p=m!==null?l[m]:null,ee=m===0,se=m===l.length-1,[S,Ue]=o.useState([]),te=()=>{h("new"),n(null),c(!0)},ae=()=>{h("generate"),n(null),c(!0)},{data:Qe,setData:Je,post:We,processing:Xe,errors:Ye,reset:Ze}=ce({image:null,alt_text:"",order:0}),re=()=>{m>0&&A(m-1)},ne=()=>{m<l.length-1&&A(m+1)},oe=[{title:"Dashboard",href:pe().url}],ie=()=>{if(S.length===0){D.error("กรุณาเลือกอย่างน้อย 1 รายการ");return}};return e.jsxs(ve,{breadcrumbs:oe,children:[e.jsx(ue,{title:`Asset Detail - ${s?.asset_code||""}`}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 p-4",children:[e.jsxs("h2",{className:"text-2xl font-bold tracking-tight",children:["Asset Detail – ",s?.asset_name||""]}),e.jsxs(w,{children:[e.jsx(C,{children:e.jsx(N,{children:"Asset Information"})}),e.jsxs(I,{className:"space-y-2 text-sm",children:[e.jsxs("p",{children:[e.jsx("strong",{children:"Code:"})," ",t.asset_item_code]}),e.jsxs("p",{children:[e.jsx("strong",{children:"Name:"})," ",t.asset_item_name]})]})]}),e.jsx("div",{children:e.jsxs("div",{className:"mb-4 flex items-center justify-between",children:[e.jsx("h3",{className:"text-lg font-medium",children:"Asset Items Details"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(x,{variant:"default",onClick:te,children:[e.jsx(Le,{}),"Assign"]}),e.jsxs(x,{variant:"default",onClick:ae,children:[e.jsx(_e,{}),"Generate Items"]}),e.jsxs(x,{onClick:ie,disabled:S.length===0,children:[e.jsx(Ae,{}),"พิมพ์ QR Code (",S.length,")"]})]})]})}),e.jsx("div",{className:"flex w-full max-w-xl flex-col gap-6",children:e.jsxs(He,{defaultValue:"assignment",children:[e.jsxs(Ke,{children:[e.jsx(M,{value:"assignment",children:"Assignment"}),e.jsx(M,{value:"repair",children:"Repairs"}),e.jsx(M,{value:"disposed",children:"Disposed"})]}),e.jsx(R,{value:"assignment",children:e.jsxs(w,{className:"w-full",children:[e.jsxs(C,{children:[e.jsx(N,{children:"Assignment"}),e.jsx(P,{children:"Make changes to your account here. Click save when you're done."})]}),e.jsxs(I,{className:"grid gap-6",children:[e.jsxs("div",{className:"grid gap-3",children:[e.jsx(v,{htmlFor:"tabs-demo-name",children:"Name"}),e.jsx(f,{id:"tabs-demo-name",defaultValue:"Pedro Duarte"})]}),e.jsxs("div",{className:"grid gap-3",children:[e.jsx(v,{htmlFor:"tabs-demo-username",children:"Username"}),e.jsx(f,{id:"tabs-demo-username",defaultValue:"@peduarte"})]})]}),e.jsx(k,{children:e.jsx(x,{children:"Save changes"})})]})}),e.jsx(R,{value:"repair",children:e.jsxs(w,{children:[e.jsxs(C,{children:[e.jsx(N,{children:"Password"}),e.jsx(P,{children:"Change your password here. After saving, you'll be logged out."})]}),e.jsxs(I,{className:"grid gap-6",children:[e.jsxs("div",{className:"grid gap-3",children:[e.jsx(v,{htmlFor:"tabs-demo-current",children:"Current password"}),e.jsx(f,{id:"tabs-demo-current",type:"password"})]}),e.jsxs("div",{className:"grid gap-3",children:[e.jsx(v,{htmlFor:"tabs-demo-new",children:"New password"}),e.jsx(f,{id:"tabs-demo-new",type:"password"})]})]}),e.jsx(k,{children:e.jsx(x,{children:"Save password"})})]})}),e.jsx(R,{value:"disposed",children:e.jsxs(w,{children:[e.jsxs(C,{children:[e.jsx(N,{children:"Password"}),e.jsx(P,{children:"Change your password here. After saving, you'll be logged out."})]}),e.jsxs(I,{className:"grid gap-6",children:[e.jsxs("div",{className:"grid gap-3",children:[e.jsx(v,{htmlFor:"tabs-demo-current",children:"Current password"}),e.jsx(f,{id:"tabs-demo-current",type:"password"})]}),e.jsxs("div",{className:"grid gap-3",children:[e.jsx(v,{htmlFor:"tabs-demo-new",children:"New password"}),e.jsx(f,{id:"tabs-demo-new",type:"password"})]})]}),e.jsx(k,{children:e.jsx(x,{children:"Save password"})})]})})]})})]}),e.jsx(Ce,{open:m!==null,onOpenChange:()=>A(null),children:e.jsxs(Ne,{className:"max-w-5xl",children:[e.jsxs(Ie,{children:[e.jsx(ye,{children:p?.alt_text||"Preview"}),e.jsx(Te,{children:Z===p?.id?e.jsxs("form",{onSubmit:b=>{b.preventDefault(),me.put(he.images.updateAltText(p.id).url,{alt_text:G},{onSuccess:()=>{D.success("แก้ไขคำอธิบายภาพเรียบร้อย"),L(null)},onError:()=>{D.error("แก้ไขคำอธิบายภาพไม่สำเร็จ โปรดลองใหม่อีกครั้ง")}})},className:"flex items-center gap-2",children:[e.jsx(f,{autoFocus:!0,type:"text",value:G,onChange:b=>V(b.target.value)}),e.jsx(x,{size:"sm","aria-label":"Submit",variant:"outline",children:e.jsx(Me,{})})]}):e.jsx("button",{className:"outline-none cursor-pointer",onClick:()=>{L(p?.id),V(p?.alt_text)},children:p?.alt_text||"No description available."})})]}),p&&e.jsxs("div",{className:"relative flex items-center justify-center",children:[e.jsx("img",{src:p.original_image_url,alt:"Preview",className:"w-full max-h-[75vh] object-contain rounded-lg"}),!ee&&e.jsx(x,{size:"icon",variant:"secondary",className:"absolute left-2 top-1/2 -translate-y-1/2 bg-white/80 hover:bg-white",onClick:re,children:e.jsx(Re,{className:"h-6 w-6"})}),!se&&e.jsx(x,{size:"icon",variant:"secondary",className:"absolute right-2 top-1/2 -translate-y-1/2 bg-white/80 hover:bg-white",onClick:ne,children:e.jsx(be,{className:"h-6 w-6"})})]})]})}),e.jsx(Se,{open:X,onOpenChange:Y,assetId:s.id,vendors:a}),e.jsx(De,{open:r,mode:g,onOpenChange:c,item:d,brands:i,vendors:a,asset:s})]})}export{ws as default};
